<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="memberMapper">

	<update id="updateMember" parameterType="Member"> <!--  회원정보 수정 -->
		update Member 
		set M_PW = #{m_pw}, M_EMAIL = #{m_email}, M_PHONE = #{m_phone}, M_MODIFY_DATE = SYSDATE, POSTNUM = #{postnum}, G_ADDRESS = #{g_address}, R_ADDRESS = #{r_address}, D_ADDRESS = #{d_address}
		where M_ID = #{m_id}
	</update>
	
	
	<update id="updateMemberImage" parameterType="Member_Image"> <!--  회원정보 수정 이미지 첨부 -->
		update Member_Image
		set M_ORIGIN_NAME = #{m_origin_name}, M_CHANGED_NAME = #{m_changed_name}, M_UPLOAD_DATE = SYSDATE
		where M_ID = #{m_id} and m_num=1
	</update>
	
	
 	<select id="selectLetureMember" parameterType="string"  resultType="hashmap"> <!-- 수강목록 출력 -->
		select *
		from LEC_VIEW
		where M_ID = #{m_id}
	</select>
	
	
	<select id="selectNoPayLecture" parameterType="string" resultType="hashmap"> <!-- 강의 찜목록 -->
	select *
	from LEC_NOPAYVIEW
	WHERE M_ID = #{m_id}
	</select>
	
	<select id="selectItemMember" parameterType="string" resultType="hashmap">  <!-- 물건 찜목록 출력 -->
		select *
		from ITEM_NOPAYVIEW
		where M_ID = #{m_id}
	</select>
	
	
	<select id="selectLectureCount" parameterType="string" resultType="_int"> <!--  수강목록 카운트 -->
	select count(*)
	from LEC_VIEW
	where M_ID = #{m_id}
	</select>
	
	<select id="selectNoPayLectureCount" parameterType="string" resultType="_int"> <!--  강의 찜목록 카운트 -->
	select count(*)
	from LEC_NOPAYVIEW
	where M_ID = #{m_id}
	</select>
	

	
	

	
	 
</mapper>
