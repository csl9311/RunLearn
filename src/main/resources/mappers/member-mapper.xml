<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="memberMapper">
	<select id="checkId" parameterType="string" resultType="_int">
		select count(*)
		from member where
		m_id = #{id}
	</select>
	<select id="checkNick" parameterType="string" resultType="_int">
		select count(*)
		from member where
		m_nickname = #{m_nickname}
	</select>
	<insert id="insertMemberImg" parameterType="Member_Image">
		insert into member_image values(MEMBER_IMAGE_SEQ, #{m_origin_name}, #{m_changed_name}, sysdate, #{m_id})
	</insert>
	<insert id="inserMember" parameterType="Member">
		insert into member values(#{m_id}, #{m_pw}, #{m_name}, #{m_nickname},
								  #{m_email}, #{m_phone},sysdate, sysdate, 
								  default, default, #{postnum}, #{g_address}, #{r_address}, #{d_address})
	</insert>
</mapper>
